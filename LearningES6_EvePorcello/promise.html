<!DOCTYPE html>
<html lang="en">
<head>
    <title>Iterators</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.29/browser.js"></script>
    <script type="text/babel">
        //step1
        /*const delay = seconds => {
            return new Promise(resolve => {
                setTimeout(resolve, seconds * 1000)
            });
        };
        console.log("zero seconds");
        delay(1).then(() => console.log("one second"));
        delay(3).then(() => console.log("three seconds")); */

        //step2
        /*const delay2 = seconds => {
            return new Promise(resolve => {
                setTimeout(
                    () => resolve(`${seconds} second delay is up`), 
                    seconds * 1000
                );
            });
        };
        console.log("zero seconds");
        delay2(2).then(msg => msg.toUpperCase())
                 .then(msg => `${msg}!!!!!!!`)
                 .then(msg => console.log(msg)); */

        //step3
        const delay3 = seconds => {
            return new Promise((resolve, reject) => {
                if(typeof seconds !== 'number'){
                    reject(new Error('Argument seconds must be a number'));
                }
                setTimeout(
                    () => resolve(`${seconds} second delay is up`), 
                    seconds * 1000
                );
            });
        };
        console.log("zero seconds");
        delay3("10 Minutes").then(msg => msg.toUpperCase())
                            .then(msg => `${msg}!!!!!!!`)
                            .then(msg => console.log(msg));
        delay3(2).then(msg => msg.toUpperCase())
                 .then(msg => `${msg}!!!!!!!`)
                 .then(msg => console.log(msg));
    </script>
</head>
<body>    
</body>
</html>